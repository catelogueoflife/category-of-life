<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="id=edge"/>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/datatables/1.10.21/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/datatables/1.10.21/js/dataTables.bootstrap.min.js"></script>
    <title>快手推荐列表</title>
</head>
<body>
<div class="contentbox">
    <table id="videoList" class="table table-striped table-bordered display" width="98%">
        <thead>
        <tr>
            <th>id</th>
            <th>标题</th>
            <th>源用户</th>
            <th>播放数</th>
            <th>点赞数</th>
            <th>分享数</th>
            <th>评论数</th>
            <th>发布时间</th>
            <th>采集时间</th>
            <th>操作</th>
        </tr>
        </thead>
    </table>
    <script>
        let query = () => {
            $('#videoList').dataTable({
                "processing": true,
                "paging": true,//开启表格分页
                "serverSide": true,
                "pagingType": "full_numbers",
                "searching": false,
                "iDisplayLength": 20,
                "aaSorting": [[0, 'desc']],
                "scrollX": true,
                "scrollCollapse": "true",
                "fixedHeader": {
                    "header": true
                },
                "language": {
                    "url": "/Chinese.json"
                },
                "ajax": {
                    "url": "/kuaishou/ksRecVideo",
                    "type": "GET",
                    "data": function (d) {

                    }
                },
                "columns": [
                    {"data": "photoId", "defaultContent": ""},
                    {"data": "title", "defaultContent": ""},
                    {"data": "sourceUserName", "defaultContent": ""},
                    {"data": "viewCount", "defaultContent": ""},
                    {"data": "likeCount", "defaultContent": ""},
                    {"data": "shareCount", "defaultContent": ""},
                    {"data": "commentCount", "defaultContent": ""},
                    {"data": "uploadDate", "defaultContent": ""},
                    {"data": "createDate", "defaultContent": ""},
                    {
                        "data": null, "defaultContent": ""
                        , "fnCreatedCell": (nTd, sData, oData, iRow, iCol) => {
                            $(nTd).empty()
                            $("<a>播放</a>").attr("href",oData.videoUrl).aattr("target","_blank").appendTo($(nTd));
                        }
                    }
                ]
            });
        }
    </script>
</div>
</body>
</html>
